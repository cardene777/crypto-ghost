import { ethers } from "hardhat";

const hre = require("hardhat");

const main = async () => {
    const [owner] = await hre.ethers.getSigners();

    const VectorLibrary = await hre.ethers.getContractFactory("Vector");
    const vector = await VectorLibrary.deploy();
    await vector.deployed();

    const ObjFactory = await hre.ethers.getContractFactory("Obj", {
        signer: owner,
        libraries: {
            Vector: vector.address
        }
    });
    const ObjContract = await ObjFactory.deploy();
    const contract = await ObjContract.deployed();

    console.log("Contract deployed to: ", contract.address);
    console.log("owner address: ", owner.address);

    // await contract.addVectorData(
    //     12, 6,
    //     ["0.5", "0.866025", "0.0", "0.433013", "0.866025", "0.25", "0.25", "0.866025", "0.433013", "0.866026", "0.5", "0.0", "0.750001", "0.5", "0.433013", "0.433013", "0.5", "0.750001", "1.0", "0.0", "0.0", "0.866025", "0.0", "0.5", "0.5", "0.0", "0.866025"],
    //     ["0.2582", "0.9636", "0.0692", "0.189", "0.9636", "0.189", "0.0692", "0.9636", "0.2582", "0.6947", "0.6947", "0.1862", "0.5085", "0.6947", "0.5086", "0.1861", "0.6947", "0.6947", "0.9351", "0.2506", "0.2506", "0.6845", "0.2506", "0.6846", "0.2505", "0.2506", "0.9351"]
    // );

    // console.log("addVectorData Done✨")

    // await contract.writeGhost(
    //     "First Ghost",
    //     "First Ghost Description",
    //     "First Ghost Material Data",
    //     12
    // );

    // console.log("writeGhost Done✨")


    // const readGhostFunction = await contract.readGhost(
    //     1,
    //     12
    // );
    // console.log("readGhost Done✨");

    const objData = "data:model/obj;base64,IyBCbGVuZGVyIHYzLjIuMiBPQkogRmlsZTogJycKIyB3d3cuYmxlbmRlci5vcmcKbXRsbGliIHNwaGVyZV8xMl82Lm10bApvIOeQg1/nkIMuMDAxCnYgLTAgMSAwCnYgMC41IDAuODY2MDI1IDAuMAp2IDAuNDMzMDEzIDAuODY2MDI1IDAuMjUKdiAwLjI1IDAuODY2MDI1IDAuNDMzMDEzCnYgLTAuMCAwLjg2NjAyNSAwLjUKdiAtMC4yNSAwLjg2NjAyNSAwLjQzMzAxMwp2IC0wLjQzMzAxMyAwLjg2NjAyNSAwLjI1CnYgLTAuNSAwLjg2NjAyNSAwLjAKdiAtMC40MzMwMTMgMC44NjYwMjUgLTAuMjUKdiAtMC4yNSAwLjg2NjAyNSAtMC40MzMwMTMKdiAwLjAgMC44NjYwMjUgLTAuNQp2IDAuMjUgMC44NjYwMjUgLTAuNDMzMDEzCnYgMC40MzMwMTMgMC44NjYwMjUgLTAuMjUKdiAwLjg2NjAyNiAwLjUgMC4wCnYgMC43NTAwMDEgMC41IDAuNDMzMDEzCnYgMC40MzMwMTMgMC41IDAuNzUwMDAxCnYgLTAuMCAwLjUgMC44NjYwMjYKdiAtMC40MzMwMTMgMC41IDAuNzUwMDAxCnYgLTAuNzUwMDAxIDAuNSAwLjQzMzAxMwp2IC0wLjg2NjAyNiAwLjUgMC4wCnYgLTAuNzUwMDAxIDAuNSAtMC40MzMwMTMKdiAtMC40MzMwMTMgMC41IC0wLjc1MDAwMQp2IDAuMCAwLjUgLTAuODY2MDI2CnYgMC40MzMwMTMgMC41IC0wLjc1MDAwMQp2IDAuNzUwMDAxIDAuNSAtMC40MzMwMTMKdiAxLjAgMC4wIDAuMAp2IDAuODY2MDI1IDAuMCAwLjUKdiAwLjUgMC4wIDAuODY2MDI1CnYgLTAuMCAwLjAgMS4wCnYgLTAuNSAwLjAgMC44NjYwMjUKdiAtMC44NjYwMjUgMC4wIDAuNQp2IC0xLjAgMC4wIDAuMAp2IC0wLjg2NjAyNSAwLjAgLTAuNQp2IC0wLjUgMC4wIC0wLjg2NjAyNQp2IDAuMCAwLjAgLTEuMAp2IDAuNSAwLjAgLTAuODY2MDI1CnYgMC44NjYwMjUgMC4wIC0wLjUKdiAwLjg2NjAyNiAtMC41IDAuMAp2IDAuNzUwMDAxIC0wLjUgMC40MzMwMTMKdiAwLjQzMzAxMyAtMC41IDAuNzUwMDAxCnYgLTAuMCAtMC41IDAuODY2MDI2CnYgLTAuNDMzMDEzIC0wLjUgMC43NTAwMDEKdiAtMC43NTAwMDEgLTAuNSAwLjQzMzAxMwp2IC0wLjg2NjAyNiAtMC41IDAuMAp2IC0wLjc1MDAwMSAtMC41IC0wLjQzMzAxMwp2IC0wLjQzMzAxMyAtMC41IC0wLjc1MDAwMQp2IDAuMCAtMC41IC0wLjg2NjAyNgp2IDAuNDMzMDEzIC0wLjUgLTAuNzUwMDAxCnYgMC43NTAwMDEgLTAuNSAtMC40MzMwMTMKdiAwLjUgLTAuODY2MDI1IDAuMAp2IDAuNDMzMDEzIC0wLjg2NjAyNSAwLjI1CnYgMC4yNSAtMC44NjYwMjUgMC40MzMwMTMKdiAtMC4wIC0wLjg2NjAyNSAwLjUKdiAtMC4yNSAtMC44NjYwMjUgMC40MzMwMTMKdiAtMC40MzMwMTMgLTAuODY2MDI1IDAuMjUKdiAtMC41IC0wLjg2NjAyNSAwLjAKdiAtMC40MzMwMTMgLTAuODY2MDI1IC0wLjI1CnYgLTAuMjUgLTAuODY2MDI1IC0wLjQzMzAxMwp2IDAuMCAtMC44NjYwMjUgLTAuNQp2IDAuMjUgLTAuODY2MDI1IC0wLjQzMzAxMwp2IDAuNDMzMDEzIC0wLjg2NjAyNSAtMC4yNQp2IDAgLTEgMAp2biAwLjI1ODIgMC45NjM2IDAuMDY5Mgp2biAwLjE4OSAwLjk2MzYgMC4xODkKdm4gMC4wNjkyIDAuOTYzNiAwLjI1ODIKdm4gLTAuMjU4MiAwLjk2MzYgMC4wNjkyCnZuIC0wLjE4OSAwLjk2MzYgMC4xODkKdm4gLTAuMDY5MiAwLjk2MzYgMC4yNTgyCnZuIC0wLjI1ODIgMC45NjM2IC0wLjA2OTIKdm4gLTAuMTg5IDAuOTYzNiAtMC4xODkKdm4gLTAuMDY5MiAwLjk2MzYgLTAuMjU4Mgp2biAwLjI1ODIgMC45NjM2IC0wLjA2OTIKdm4gMC4xODkgMC45NjM2IC0wLjE4OQp2biAwLjA2OTIgMC45NjM2IC0wLjI1ODIKdm4gMC42OTQ3IDAuNjk0NyAwLjE4NjIKdm4gMC41MDg1IDAuNjk0NyAwLjUwODYKdm4gMC4xODYxIDAuNjk0NyAwLjY5NDcKdm4gLTAuNjk0NyAwLjY5NDcgMC4xODYyCnZuIC0wLjUwODUgMC42OTQ3IDAuNTA4Ngp2biAtMC4xODYxIDAuNjk0NyAwLjY5NDcKdm4gLTAuNjk0NyAwLjY5NDcgLTAuMTg2Mgp2biAtMC41MDg1IDAuNjk0NyAtMC41MDg2CnZuIC0wLjE4NjEgMC42OTQ3IC0wLjY5NDcKdm4gMC42OTQ3IDAuNjk0NyAtMC4xODYyCnZuIDAuNTA4NSAwLjY5NDcgLTAuNTA4Ngp2biAwLjE4NjEgMC42OTQ3IC0wLjY5NDcKdm4gMC45MzUxIDAuMjUwNiAwLjI1MDYKdm4gMC42ODQ1IDAuMjUwNiAwLjY4NDYKdm4gMC4yNTA1IDAuMjUwNiAwLjkzNTEKdm4gLTAuOTM1MSAwLjI1MDYgMC4yNTA2CnZuIC0wLjY4NDUgMC4yNTA2IDAuNjg0Ngp2biAtMC4yNTA1IDAuMjUwNiAwLjkzNTEKdm4gLTAuOTM1MSAwLjI1MDYgLTAuMjUwNgp2biAtMC42ODQ1IDAuMjUwNiAtMC42ODQ2CnZuIC0wLjI1MDUgMC4yNTA2IC0wLjkzNTEKdm4gMC45MzUxIDAuMjUwNiAtMC4yNTA2CnZuIDAuNjg0NSAwLjI1MDYgLTAuNjg0Ngp2biAwLjI1MDUgMC4yNTA2IC0wLjkzNTEKdm4gMC45MzUxIC0wLjI1MDYgMC4yNTA2CnZuIDAuNjg0NSAtMC4yNTA2IDAuNjg0Ngp2biAwLjI1MDUgLTAuMjUwNiAwLjkzNTEKdm4gLTAuOTM1MSAtMC4yNTA2IDAuMjUwNgp2biAtMC42ODQ1IC0wLjI1MDYgMC42ODQ2CnZuIC0wLjI1MDUgLTAuMjUwNiAwLjkzNTEKdm4gLTAuOTM1MSAtMC4yNTA2IC0wLjI1MDYKdm4gLTAuNjg0NSAtMC4yNTA2IC0wLjY4NDYKdm4gLTAuMjUwNSAtMC4yNTA2IC0wLjkzNTEKdm4gMC45MzUxIC0wLjI1MDYgLTAuMjUwNgp2biAwLjY4NDUgLTAuMjUwNiAtMC42ODQ2CnZuIDAuMjUwNSAtMC4yNTA2IC0wLjkzNTEKdm4gMC42OTQ3IC0wLjY5NDcgMC4xODYyCnZuIDAuNTA4NSAtMC42OTQ3IDAuNTA4Ngp2biAwLjE4NjEgLTAuNjk0NyAwLjY5NDcKdm4gLTAuNjk0NyAtMC42OTQ3IDAuMTg2Mgp2biAtMC41MDg1IC0wLjY5NDcgMC41MDg2CnZuIC0wLjE4NjEgLTAuNjk0NyAwLjY5NDcKdm4gLTAuNjk0NyAtMC42OTQ3IC0wLjE4NjIKdm4gLTAuNTA4NSAtMC42OTQ3IC0wLjUwODYKdm4gLTAuMTg2MSAtMC42OTQ3IC0wLjY5NDcKdm4gMC42OTQ3IC0wLjY5NDcgLTAuMTg2Mgp2biAwLjUwODUgLTAuNjk0NyAtMC41MDg2CnZuIDAuMTg2MSAtMC42OTQ3IC0wLjY5NDcKdm4gMC4yNTgyIC0wLjk2MzYgMC4wNjkyCnZuIDAuMTg5IC0wLjk2MzYgMC4xODkKdm4gMC4wNjkyIC0wLjk2MzYgMC4yNTgyCnZuIC0wLjI1ODIgLTAuOTYzNiAwLjA2OTIKdm4gLTAuMTg5IC0wLjk2MzYgMC4xODkKdm4gLTAuMDY5MiAtMC45NjM2IDAuMjU4Mgp2biAtMC4yNTgyIC0wLjk2MzYgLTAuMDY5Mgp2biAtMC4xODkgLTAuOTYzNiAtMC4xODkKdm4gLTAuMDY5MiAtMC45NjM2IC0wLjI1ODIKdm4gMC4yNTgyIC0wLjk2MzYgLTAuMDY5Mgp2biAwLjE4OSAtMC45NjM2IC0wLjE4OQp2biAwLjA2OTIgLTAuOTYzNiAtMC4yNTgyCnVzZW10bCBOb25lCnMgb2ZmCmYgMi8xLzEgMS8xLzEgMy8xLzEKZiAzLzIvMiAxLzIvMiA0LzIvMgpmIDQvMy8zIDEvMy8zIDUvMy8zCmYgNS80LzQgMS80LzQgNi80LzQKZiA2LzUvNSAxLzUvNSA3LzUvNQpmIDcvNi82IDEvNi82IDgvNi82CmYgOC83LzcgMS83LzcgOS83LzcKZiA5LzgvOCAxLzgvOCAxMC84LzgKZiAxMC85LzkgMS85LzkgMTEvOS85CmYgMTEvMTAvMTAgMS8xMC8xMCAxMi8xMC8xMApmIDEyLzExLzExIDEvMTEvMTEgMTMvMTEvMTEKZiAxMy8xMi8xMiAxLzEyLzEyIDIvMTIvMTIKZiAzLzEzLzEzIDE1LzEzLzEzIDE0LzEzLzEzIDIvMTMvMTMKZiA0LzE0LzE0IDE2LzE0LzE0IDE1LzE0LzE0IDMvMTQvMTQKZiA1LzE1LzE1IDE3LzE1LzE1IDE2LzE1LzE1IDQvMTUvMTUKZiA2LzE2LzE2IDE4LzE2LzE2IDE3LzE2LzE2IDUvMTYvMTYKZiA3LzE3LzE3IDE5LzE3LzE3IDE4LzE3LzE3IDYvMTcvMTcKZiA4LzE4LzE4IDIwLzE4LzE4IDE5LzE4LzE4IDcvMTgvMTgKZiA5LzE5LzE5IDIxLzE5LzE5IDIwLzE5LzE5IDgvMTkvMTkKZiAxMC8yMC8yMCAyMi8yMC8yMCAyMS8yMC8yMCA5LzIwLzIwCmYgMTEvMjEvMjEgMjMvMjEvMjEgMjIvMjEvMjEgMTAvMjEvMjEKZiAxMi8yMi8yMiAyNC8yMi8yMiAyMy8yMi8yMiAxMS8yMi8yMgpmIDEzLzIzLzIzIDI1LzIzLzIzIDI0LzIzLzIzIDEyLzIzLzIzCmYgMi8yNC8yNCAxNC8yNC8yNCAyNS8yNC8yNCAxMy8yNC8yNApmIDE1LzI1LzI1IDI3LzI1LzI1IDI2LzI1LzI1IDE0LzI1LzI1CmYgMTYvMjYvMjYgMjgvMjYvMjYgMjcvMjYvMjYgMTUvMjYvMjYKZiAxNy8yNy8yNyAyOS8yNy8yNyAyOC8yNy8yNyAxNi8yNy8yNwpmIDE4LzI4LzI4IDMwLzI4LzI4IDI5LzI4LzI4IDE3LzI4LzI4CmYgMTkvMjkvMjkgMzEvMjkvMjkgMzAvMjkvMjkgMTgvMjkvMjkKZiAyMC8zMC8zMCAzMi8zMC8zMCAzMS8zMC8zMCAxOS8zMC8zMApmIDIxLzMxLzMxIDMzLzMxLzMxIDMyLzMxLzMxIDIwLzMxLzMxCmYgMjIvMzIvMzIgMzQvMzIvMzIgMzMvMzIvMzIgMjEvMzIvMzIKZiAyMy8zMy8zMyAzNS8zMy8zMyAzNC8zMy8zMyAyMi8zMy8zMwpmIDI0LzM0LzM0IDM2LzM0LzM0IDM1LzM0LzM0IDIzLzM0LzM0CmYgMjUvMzUvMzUgMzcvMzUvMzUgMzYvMzUvMzUgMjQvMzUvMzUKZiAxNC8zNi8zNiAyNi8zNi8zNiAzNy8zNi8zNiAyNS8zNi8zNgpmIDI3LzM3LzM3IDM5LzM3LzM3IDM4LzM3LzM3IDI2LzM3LzM3CmYgMjgvMzgvMzggNDAvMzgvMzggMzkvMzgvMzggMjcvMzgvMzgKZiAyOS8zOS8zOSA0MS8zOS8zOSA0MC8zOS8zOSAyOC8zOS8zOQpmIDMwLzQwLzQwIDQyLzQwLzQwIDQxLzQwLzQwIDI5LzQwLzQwCmYgMzEvNDEvNDEgNDMvNDEvNDEgNDIvNDEvNDEgMzAvNDEvNDEKZiAzMi80Mi80MiA0NC80Mi80MiA0My80Mi80MiAzMS80Mi80MgpmIDMzLzQzLzQzIDQ1LzQzLzQzIDQ0LzQzLzQzIDMyLzQzLzQzCmYgMzQvNDQvNDQgNDYvNDQvNDQgNDUvNDQvNDQgMzMvNDQvNDQKZiAzNS80NS80NSA0Ny80NS80NSA0Ni80NS80NSAzNC80NS80NQpmIDM2LzQ2LzQ2IDQ4LzQ2LzQ2IDQ3LzQ2LzQ2IDM1LzQ2LzQ2CmYgMzcvNDcvNDcgNDkvNDcvNDcgNDgvNDcvNDcgMzYvNDcvNDcKZiAyNi80OC80OCAzOC80OC80OCA0OS80OC80OCAzNy80OC80OApmIDM5LzQ5LzQ5IDUxLzQ5LzQ5IDUwLzQ5LzQ5IDM4LzQ5LzQ5CmYgNDAvNTAvNTAgNTIvNTAvNTAgNTEvNTAvNTAgMzkvNTAvNTAKZiA0MS81MS81MSA1My81MS81MSA1Mi81MS81MSA0MC81MS81MQpmIDQyLzUyLzUyIDU0LzUyLzUyIDUzLzUyLzUyIDQxLzUyLzUyCmYgNDMvNTMvNTMgNTUvNTMvNTMgNTQvNTMvNTMgNDIvNTMvNTMKZiA0NC81NC81NCA1Ni81NC81NCA1NS81NC81NCA0My81NC81NApmIDQ1LzU1LzU1IDU3LzU1LzU1IDU2LzU1LzU1IDQ0LzU1LzU1CmYgNDYvNTYvNTYgNTgvNTYvNTYgNTcvNTYvNTYgNDUvNTYvNTYKZiA0Ny81Ny81NyA1OS81Ny81NyA1OC81Ny81NyA0Ni81Ny81NwpmIDQ4LzU4LzU4IDYwLzU4LzU4IDU5LzU4LzU4IDQ3LzU4LzU4CmYgNDkvNTkvNTkgNjEvNTkvNTkgNjAvNTkvNTkgNDgvNTkvNTkKZiAzOC82MC82MCA1MC82MC82MCA2MS82MC82MCA0OS82MC82MApmIDUxLzYxLzYxIDYyLzYxLzYxIDUwLzYxLzYxCmYgNTIvNjIvNjIgNjIvNjIvNjIgNTEvNjIvNjIKZiA1My82My82MyA2Mi82My82MyA1Mi82My82MwpmIDU0LzY0LzY0IDYyLzY0LzY0IDUzLzY0LzY0CmYgNTUvNjUvNjUgNjIvNjUvNjUgNTQvNjUvNjUKZiA1Ni82Ni82NiA2Mi82Ni82NiA1NS82Ni82NgpmIDU3LzY3LzY3IDYyLzY3LzY3IDU2LzY3LzY3CmYgNTgvNjgvNjggNjIvNjgvNjggNTcvNjgvNjgKZiA1OS82OS82OSA2Mi82OS82OSA1OC82OS82OQpmIDYwLzcwLzcwIDYyLzcwLzcwIDU5LzcwLzcwCmYgNjEvNzEvNzEgNjIvNzEvNzEgNjAvNzEvNzEKZiA1MC83Mi83MiA2Mi83Mi83MiA2MS83Mi83Mgo="

    const ghostNft = await contract.ghostNftMint(objData, "TestGhost", "Mint Test Ghost NFT", 12, 6);
    console.log(ghostNft);
    console.log("GhostをMintしました。")

    console.log("Contract deployed to: ", contract.address);
}

main().catch((error) => {
  console.error(error);
  process.exitCode = 1;
});
